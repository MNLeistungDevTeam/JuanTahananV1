@using DMS.Application.Interfaces.Setup.ModuleRepository
@using DMS.Application.Interfaces.Setup.UserRepository
@using DMS.Domain.Enums
@inject IStringLocalizer<SharedResources> localizer

@inject IUserRepository _userRepo;
@inject IModuleRepository _moduleRepo;

@{
    // Layout = "_SidebarLayout";
    ViewData["Title"] = "Home Page";
    int userId = int.Parse(User.Identity.Name);
    var userInfo = await _userRepo.GetUserAsync(userId);
}

@if (userInfo.UserRoleId is (int)PredefinedRoleType.Developer or (int)PredefinedRoleType.Admin)
{
    @* @await Html.PartialAsync("_ProductPartial", product); *@

    @await Html.PartialAsync("_DeveloperDashboardPartial");
    @section Scripts {
        <script src="~/js/DevDashboardPartialScript.js" asp-append-version="true"></script>
    }
}
else if (userInfo.UserRoleId is (int)PredefinedRoleType.Pagibig)
{
    @await Html.PartialAsync("_PagIBIGDashboardPartial");
    @section Scripts {
        <script src="~/js/PagIBIGDashboardPartialScript.js" asp-append-version="true"></script>
    }
}


else if (userInfo.UserRoleId is (int)PredefinedRoleType.Lgu)
{
    @await Html.PartialAsync("_DeveloperDashboardPartial");
    @section Scripts {
    <script src="~/js/PagIBIGDashboardPartialScript.js" asp-append-version="true"></script>
    }
}


else if (userInfo.UserRoleId is (int)PredefinedRoleType.Beneficiary)
{
    @await Html.PartialAsync("_BeneficiaryDashboardPartial");
    @section Scripts {
    <script src="~/js/BeneficiaryDashboardPartialScript.js" asp-append-version="true"></script>
    }
}


