@model ApplicantViewModel
@{
    ViewData["Title"] = "Applicant Details";


}

<!-- start page title -->
<div class="row">
    <div class="col-12">
        <div class="page-title-box">
            <div class="page-title-right">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Dashboard</a></li>
                    <li class="breadcrumb-item active">@ViewData["Title"]</li>
                </ol>
            </div>
            <h4 class="page-title">@ViewData["Title"]</h4>
        </div>
    </div>
</div>
<!-- end page title -->

<div class="card card-outline rounded-4">
    <div class="card-body rounded-4 rounded-bottom bg-transparent border rounded border-theme-warning border-4 border-bottom-0 border-end-0 border-start-0">

        <div class="row gy-2">
            <div class="col-12">
                <div class="row">
                    <div class="col-md-6">
                        <h3 class="fw-bold font-28">
                            @Model.ApplicantsPersonalInformationModel.Code <span class="badge bg-warning ms-auto fs-7">Pending Review</span>
                            <input asp-for="ApplicantsPersonalInformationModel.Code" class="form-control" placeholder="Transaction No." readonly hidden />
                            <input asp-for="ApplicantsPersonalInformationModel.Id" class="form-control" placeholder="Id" readonly hidden />
                        </h3>
                    </div>
                    <div class="col-md-6 text-md-end">
                        @if (Model.ApplicantsPersonalInformationModel.ApprovalStatus == 1)
                        {

                            <button type="button" class="btn btn-primary rounded-end" id="btnApprove">
                                Approve <i class="fe-check-circle"></i>
                            </button>

                            <button type="button" class="btn btn-primary rounded-end" id="btnDefer">
                                Defer <i class="fe-x-circle"></i>
                            </button>

                        }
                        else
                        {

                            <button type="button" class="btn btn-link text-decoration-none">
                                Review application <i class="mdi mdi-arrow-right"></i>
                            </button>

                        }
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="container">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <h4>Buyer</h4>
                                            <div class="product">
                                                <h3 class="fw-bold"> @Model.BarrowersInformationModel.Name</h3>
                                                <p>@Model.BarrowersInformationModel.MobileNumber</p>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <h4>Unit</h4>
                                            <div class="product">
                                                <h3 class="fw-bold">
                                                    @(Model.BarrowersInformationModel.PropertyUnitLevelName ?? "N/A")
                                                </h3>
                                                <p>@(Model.BarrowersInformationModel.PropertyLocation ?? "N/A")</p>

                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <h4>Developer</h4>
                                            <div class="product">
                                                <h3 class="fw-bold">@(Model.BarrowersInformationModel.PropertyDeveloperName ?? "N/A")</h3>

                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>
                    <div class="col-xl-12">
                        <div class="card">
                            <div class="card-body">
                                <div class="col-xl-12">
                                    @*<h4 class="header-title"></h4>
                                    <p class="text-muted font-14 mb-3">
                                    </p>*@
                                    <ul class="nav nav-tabs nav-bordered mb-2" role="tablist">
                                        <li class="nav-item" role="presentation">
                                            <a href="#home-b1" data-bs-toggle="tab" aria-expanded="false" class="nav-link active" aria-selected="true" role="tab">
                                                <i class="mdi mdi-home-variant d-md-none d-block"></i>
                                                <span class="d-none d-md-block">General Info</span>
                                            </a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a href="#profile-b1" data-bs-toggle="tab" aria-expanded="true" class="nav-link" aria-selected="false" role="tab" tabindex="-1">
                                                <i class="mdi mdi-account-circle d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Buyer</span>
                                            </a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a href="#attachment-tab1" data-bs-toggle="tab" aria-expanded="false" class="nav-link" aria-selected="false" role="tab" tabindex="-1">
                                                <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Attachments</span>
                                            </a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a href="#attachment-tab2" data-bs-toggle="tab" aria-expanded="false" class="nav-link" aria-selected="false" role="tab" tabindex="-1">
                                                <i class="mdi mdi-settings-outline d-md-none d-block"></i>
                                                <span class="d-none d-md-block">Application Attachments</span>
                                            </a>
                                        </li>
                                        <!-- New tabs -->
                                        <li class="nav-item" role="presentation">
                                            <a href="#tab4" data-bs-toggle="tab" aria-expanded="false" class="nav-link" aria-selected="false" role="tab" tabindex="-1">
                                                <span class="d-none d-md-block">Unit</span>
                                            </a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a href="#tab5" data-bs-toggle="tab" aria-expanded="false" class="nav-link" aria-selected="false" role="tab" tabindex="-1">
                                                <span class="d-none d-md-block">BCF</span>
                                            </a>
                                        </li>
                                        <li class="nav-item" role="presentation">
                                            <a href="#tab6" data-bs-toggle="tab" aria-expanded="false" class="nav-link" aria-selected="false" role="tab" tabindex="-1">
                                                <span class="d-none d-md-block">Status History</span>
                                            </a>
                                        </li>
                                    </ul>

                                    <div class="tab-content">
                                        <div class="tab-pane active show" id="home-b1" role="tabpanel">
                                            @* <div class="row">
                                                @* <div class="col-md-6">

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Last Name:</label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.LastName</p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Middle Name:</label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.MiddleName</p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">First Name:</label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.FirstName</p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Email:</label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.Email</p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Residence:</label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.PresentBaranggayName @Model.BarrowersInformationModel.PresentMunicipalityName @Model.BarrowersInformationModel.PresentProvinceName</p>
                                                        </div>
                                                    </div>
                                                </div> 

                                                <div class="col-md-6">

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Birth Date:</label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.BirthDate</p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Marital Status: </label>
                                                        <div class="col-md-10">
                                                            <p>@Model.BarrowersInformationModel.MaritalStatus</p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Employment Status:</label>
                                                        <div class="col-md-10">
                                                            <p></p>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <label class="col-md-2 text-md-end">Monthly Salary:</label>
                                                        <div class="col-md-10">
                                                            <p></p>
                                                        </div>
                                                    </div>
                                                </div> 
                                            </div> *@

                                            <div class="row gx-3 m-2">

                                                <div class="col-lg-6 col-md-12 mt-2">
                                                    <dl class="row">
                                                        <dt class="col-md-4 mb-2 font-14">Last Name: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">@Model.BarrowersInformationModel.LastName</dd>

                                                        <dt class="col-md-4 mb-2 font-14">First Name: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">@Model.BarrowersInformationModel.FirstName</dd>

                                                        <dt class="col-md-4 mb-2 font-14">Middle Name: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">@Model.BarrowersInformationModel.MiddleName</dd>

                                                        <dt class="col-md-4 mb-2 font-14">Email: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">@Model.BarrowersInformationModel.Email</dd>

                                                        <dt class="col-md-4 mb-2 font-14">Residence: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">
                                                            @Model.BarrowersInformationModel.PresentBaranggayName 
                                                            @Model.BarrowersInformationModel.PresentMunicipalityName 
                                                            @Model.BarrowersInformationModel.PresentProvinceName
                                                        </dd>
                                                    </dl>
                                                </div>

                                                <div class="col-lg-6 col-md-12 mt-2">
                                                    <dl class="row">
                                                        <dt class="col-md-4 mb-2 font-14">Birth Date: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">@Model.BarrowersInformationModel.BirthDate</dd>

                                                        <dt class="col-md-4 mb-2 font-14">Marital Status: </dt>
                                                        <dd class="col-md-8 mb-2 font-14">@Model.BarrowersInformationModel.MaritalStatus</dd>

                                                        <dt class="col-md-4 mb-2 font-14">Employment Status: </dt>
                                                        <dd class="col-md-8 mb-2 font-14"></dd>

                                                        <dt class="col-md-4 mb-2 font-14">Monthly Salary: </dt>
                                                        <dd class="col-md-8 mb-2 font-14"></dd>
                                                    </dl>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="tab-pane" id="profile-b1" role="tabpanel">
                                            <p>Content for Profile tab.</p>
                                        </div>
                                        <div class="tab-pane" id="attachment-tab1" role="tabpanel">
                                            <p>Content for Settings tab.</p>
                                        </div>
                                        <div class="tab-pane" id="attachment-tab2" role="tabpanel">

                                            <div class="row m-1">
                                                <div class="col-md-12">
                                                    <h3>Complete Application Attachment</h3>
                                                </div>

                                                <div class="row col-md-12">
                                                    <p class="text-muted">Forms</p>
                                                    <div class="row" id="formSection">

                                                        <div class="col-md-4">
                                                            <div class="widget-rounded-circle card">
                                                                <div class="d-flex align-items-center m-2">
                                                                    <img src="#" class="img-fluid rounded" width="50" alt="">
                                                                    <div class="w-100 ms-3">
                                                                        <h5 class="mb-0"><strong>Housing Load Application Form</strong></h5>
                                                                        <p class="mb-0 font-13 text-info">FileName.pdf</p>
                                                                        <p class="mb-0 font-12 text-muted">3020MB</p>
                                                                    </div>
                                                                    <a href="#" class="font-25"> <i class="fe-printer"></i> </a>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="row col-md-12">
                                                    <p class="text-muted">Proof of Income</p>
                                                    <div class="row" id="proofIncomeSection">

                                                    </div>
                                                </div>

                                                <div class="row col-md-12">
                                                    <p class="text-muted">Civil Documents</p>
                                                    <div class="row" id="civilDocu">

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <!-- New tab content -->
                                        <div class="tab-pane" id="tab4" role="tabpanel">
                                            <p>Content for Tab 4.</p>
                                        </div>
                                        <div class="tab-pane" id="tab5" role="tabpanel">
                                            <p>Content for Tab 5.</p>
                                        </div>
                                        <div class="tab-pane" id="tab6" role="tabpanel">
                                            <p>Content for Tab 6.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </div>
</div>



<div id="approver-modal" class="modal fade" ttabindex="-1" role="dialog" aria-labelledby="approver-modalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="overlay" id="approver-modal-overlay" hidden>
                <span class='spinner-border spinner-border-lg'></span>
            </div>
            <div class="modal-header bg-soft-light border-bottom">
                <h4 class="modal-title" id="approver-modalLabel"><span class="mdi mdi-plus"></span> Add Vendor</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form asp-action="SaveApprovalLevel" asp-controller="Approval" asp-antiforgery="true" method="post" role="form" id="frm_approver_level">
                <div class="modal-body">
                    <input asp-for="ApprovalLevel.Id" type="hidden" />
                    <input asp-for="ApprovalLevel.ApprovalStatusId" type="" />
                    <input asp-for="ApprovalLevel.Status" type="hidden" />
                    <input asp-for="ApprovalLevel.ModuleCode" type="hidden" />
                    <input asp-for="ApprovalLevel.TransactionId" type="hidden" />
                    <div class="mb-2">
                        <label asp-for="ApprovalLevel.TransactionNo"></label>
                        <input asp-for="ApprovalLevel.TransactionNo" class="form-control" placeholder="Transaction No." readonly />
                        <span asp-validation-for="ApprovalLevel.TransactionNo" class="text-danger"></span>
                    </div>
                    <div class="mb-2" id="action-container">
                        <label asp-for="ApprovalLevel.Remarks"></label>
                        <textarea asp-for="ApprovalLevel.Remarks" class="form-control" placeholder="Remarks"></textarea>
                        <span asp-validation-for="ApprovalLevel.Remarks" class="text-danger"></span>
                    </div>
                </div>
                <div class="modal-footer bg-soft-light border-top">
                    <button type="button" class="btn btn-light" data-bs-dismiss="modal" id="btn_close">Close</button>
                    <button type="submit" id="btn_save" class="btn btn-primary"><span class="fas fa-thumbs-up"></span> Approve</button>
                </div>
            </form>
        </div>
    </div>
</div>




@section Scripts {
    @*     @await Html.PartialAsync("_ApproverModal", Model.ApprovalLevel) *@
    <script src="~/js/Setup/Applicants/ApplicantDetailScripts.js" asp-append-version="true"></script>

}
